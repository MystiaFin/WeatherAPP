<!DOCTYPE html>
<html lang="en" ng-app="AirPollutionApp">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Air Pollution Indicator</title>
  <link href="https://cdn.tailwindcss.com" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white font-sans">

  <!-- Header Section -->
  <header class="bg-gray-800 py-4 px-6 flex items-center justify-between shadow-md">
    <h1 class="text-2xl font-bold">Air Pollution Indicator</h1>
    
    <!-- "Back to Main" button -->
    <div class="flex items-center space-x-4">
      <a href="index.html" class="bg-blue-400 text-white px-4 py-2 rounded-lg hover:bg-blue-400">
        <-- Back to Main
      </a>
      <span class="text-lg">Location:</span>
      <select
        ng-model="selectedCity"
        ng-change="changeCity(selectedCity)"
        class="bg-gray-700 text-white rounded px-4 py-2 focus:outline-none focus:ring focus:ring-blue-400"
      >
        <option ng-repeat="city in cities" value="{{ city }}">{{ city }}</option>
      </select>
    </div>
  </header>

  <!-- Layout Container -->
  <div class="flex h-screen">
    <!-- Left Bar -->
    <aside class="bg-gray-900 w-1/4 p-4 shadow-md">
      <h2 class="text-lg font-semibold mb-4">City Details</h2>
      <div class="space-y-2">
        <p><strong>Selected City:</strong> {{ selectedCity }}</p>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 p-6">
      <!-- Loading Indicator -->
      <div ng-if="loading" class="text-center text-gray-400">Loading air pollution data...</div>
 
      <!-- Air Pollution Data -->
      <div ng-if="!loading && airPollution">
        <h3 class="text-2xl font-bold mb-6">Air Pollution Data for {{ selectedCity }}</h3>
        
        <!-- Tanggal dan Hari -->
        <p class="text-gray-100 text-lg mb-4">
           {{ currentDate | date:'EEEE, MMMM d, yyyy' }}
        </p>
        
        <p><strong>AQI:</strong> <span class="text-blue-400">{{ airPollution.airQualityLevel }}</span></p>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
          <!-- Components -->
          <div
            class="p-4 rounded bg-gray-700 shadow hover:shadow-lg transition"
            ng-repeat="(key, component) in airPollution.components"
            ng-class="{
              'text-green-400': component.classification === 'Very Good',
              'text-blue-400': component.classification === 'Good',
              'text-yellow-400': component.classification === 'Moderate',
              'text-red-400': component.classification === 'Poor',
              'text-purple-400': component.classification === 'Very Poor'
            }"
          >
            <h4 class="font-semibold text-lg capitalize">{{ key }}</h4>
            <p>Value: {{ component.value }} μg/m³</p>
            <p>Classification: {{ component.classification }}</p>
          </div>
        </div>
      </div>
    </main>
  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
  <script>
    angular.module('AirPollutionApp', []).controller('MainController', ['$scope', '$interval', function($scope, $interval) {
      // Current date and time
      $scope.currentDate = new Date();

      // Update date every second
      $interval(function() {
        $scope.currentDate = new Date();
      }, 1000);

      // Mock data for the example
      $scope.cities = ['New York', 'Los Angeles', 'Chicago'];
      $scope.selectedCity = $scope.cities[0];
      $scope.loading = false;
      $scope.airPollution = {
        airQualityLevel: 'Very Good',
        components: {
          co: { value: 5, classification: 'Very Good' },
          no2: { value: 20, classification: 'Good' },
          so2: { value: 10, classification: 'Moderate' }
        }
      };

      // Change city handler
      $scope.changeCity = function(city) {
        $scope.selectedCity = city;
        $scope.loading = true;
        // Simulate data loading
      };
    }]);
  </script>
</body>
</html>
